execute as @s[tag=west] positioned ~ ~-1 ~ if entity @e[type=interaction,tag=curtain2,distance=..0.5,tag=west] positioned ~0.35 ~ ~ run summon minecraft:block_display ~ ~0.27 ~ {id:"block_display",Passengers:[{id:"block_display",Passengers:[{id:"block_display",Passengers:[],Tags:["furniture","curtain2","wood","new","top","topframe","left","west"],block_state:{Name:"minecraft:stripped_oak_wood"},interpolation_duration:0,start_interpolation:0,transformation:[0.215f, 0.000f, 0.000f,-0.508f,0.000f, 0.215f, 0.000f,-0.177f,0.000f, 0.000f, 0.050f,0.455f,0.000f, 0.000f, 0.000f,1.000f]}],Tags:["furniture","curtain2","wood","new","top","topframe","right","west"],block_state:{Name:"minecraft:stripped_oak_wood"},interpolation_duration:0,start_interpolation:0,transformation:[0.215f, 0.000f, 0.000f,-0.508f,0.000f, 0.215f, 0.000f,-0.177f,0.000f, 0.000f, 0.050f,-0.505f,0.000f, 0.000f, 0.000f,1.000f]}],Tags:["new","curtain2","top","furniture","west","wool"],block_state:{Name:"minecraft:white_wool"},interpolation_duration:0,start_interpolation:0,transformation:[0.201f, 0.000f, 0.000f,-0.501f,0.000f, 0.201f, 0.000f,-0.169f,0.000f, 0.000f, 1.001f,-0.500f,0.000f, 0.000f, 0.000f,1.000f]}
execute as @s[tag=south] positioned ~ ~-1 ~ if entity @e[type=interaction,tag=curtain2,distance=..0.5,tag=south] positioned ~ ~ ~-0.35 run summon minecraft:block_display ~ ~0.27 ~ {id:"block_display",Passengers:[{id:"block_display",Passengers:[{id:"block_display",Passengers:[],Tags:["furniture","curtain2","wood","new","top","topframe","right","south"],block_state:{Name:"minecraft:stripped_oak_wood"},interpolation_duration:0,start_interpolation:0,transformation:[0.050f, 0.000f, 0.000f,-0.505f,0.000f, 0.215f, 0.000f,-0.177f,0.000f, 0.000f, 0.215f,0.293f,0.000f, 0.000f, 0.000f,1.000f]}],Tags:["furniture","curtain2","wood","new","top","topframe","left","south"],block_state:{Name:"minecraft:stripped_oak_wood"},interpolation_duration:0,start_interpolation:0,transformation:[0.050f, 0.000f, 0.000f,0.455f,0.000f, 0.215f, 0.000f,-0.177f,0.000f, 0.000f, 0.215f,0.293f,0.000f, 0.000f, 0.000f,1.000f]}],Tags:["new","curtain2","top","furniture","south","wool"],block_state:{Name:"minecraft:white_wool"},interpolation_duration:0,start_interpolation:0,transformation:[1.001f, 0.000f, 0.000f,-0.500f,0.000f, 0.201f, 0.000f,-0.169f,0.000f, 0.000f, 0.201f,0.299f,0.000f, 0.000f, 0.000f,1.000f]}
execute as @s[tag=north] positioned ~ ~-1 ~ if entity @e[type=interaction,tag=curtain2,distance=..0.5,tag=north] positioned ~ ~ ~0.35 run summon minecraft:block_display ~ ~0.27 ~ {id:"block_display",Passengers:[{id:"block_display",Passengers:[{id:"block_display",Passengers:[],Tags:["furniture","curtain2","wood","new","top","topframe","right","north"],block_state:{Name:"minecraft:stripped_oak_wood"},interpolation_duration:0,start_interpolation:0,transformation:[0.050f, 0.000f, 0.000f,0.455f,0.000f, 0.215f, 0.000f,-0.177f,0.000f, 0.000f, 0.215f,-0.508f,0.000f, 0.000f, 0.000f,1.000f]}],Tags:["furniture","curtain2","wood","new","top","topframe","left","north"],block_state:{Name:"minecraft:stripped_oak_wood"},interpolation_duration:0,start_interpolation:0,transformation:[0.050f, 0.000f, 0.000f,-0.505f,0.000f, 0.215f, 0.000f,-0.177f,0.000f, 0.000f, 0.215f,-0.508f,0.000f, 0.000f, 0.000f,1.000f]}],Tags:["new","curtain2","top","furniture","north","wool"],block_state:{Name:"minecraft:white_wool"},interpolation_duration:0,start_interpolation:0,transformation:[1.001f, 0.000f, 0.000f,-0.500f,0.000f, 0.201f, 0.000f,-0.169f,0.000f, 0.000f, 0.201f,-0.501f,0.000f, 0.000f, 0.000f,1.000f]}
execute as @s[tag=east] positioned ~ ~-1 ~ if entity @e[type=interaction,tag=curtain2,distance=..0.5,tag=east] positioned ~-0.35 ~ ~ run summon minecraft:block_display ~ ~0.27 ~ {id:"block_display",Passengers:[{id:"block_display",Passengers:[{id:"block_display",Passengers:[],Tags:["furniture","curtain2","wood","new","top","topframe","left","east"],block_state:{Name:"minecraft:stripped_oak_wood"},interpolation_duration:0,start_interpolation:0,transformation:[0.215f, 0.000f, 0.000f,0.293f,0.000f, 0.215f, 0.000f,-0.177f,0.000f, 0.000f, 0.050f,-0.505f,0.000f, 0.000f, 0.000f,1.000f]}],Tags:["furniture","curtain2","wood","new","top","topframe","right","east"],block_state:{Name:"minecraft:stripped_oak_wood"},interpolation_duration:0,start_interpolation:0,transformation:[0.215f, 0.000f, 0.000f,0.293f,0.000f, 0.215f, 0.000f,-0.177f,0.000f, 0.000f, 0.050f,0.455f,0.000f, 0.000f, 0.000f,1.000f]}],Tags:["new","curtain2","top","furniture","east","wool"],block_state:{Name:"minecraft:white_wool"},interpolation_duration:0,start_interpolation:0,transformation:[0.201f, 0.000f, 0.000f,0.299f,0.000f, 0.201f, 0.000f,-0.169f,0.000f, 0.000f, 1.001f,-0.500f,0.000f, 0.000f, 0.000f,1.000f]}


execute as @s[tag=west] positioned ~ ~ ~-1 if entity @e[type=interaction,tag=curtain2,distance=..0.5,tag=west] if entity @e[tag=top,distance=..0.5,tag=curtain2,type=block_display] positioned ~0.35 ~ ~ run summon minecraft:block_display ~ ~0.27 ~ {id:"block_display",Passengers:[],Tags:["furniture","curtain2","wood","top","topframe","new","left","west"],block_state:{Name:"minecraft:stripped_oak_wood"},interpolation_duration:0,start_interpolation:0,transformation:[0.215f, 0.000f, 0.000f,-0.508f,0.000f, 0.215f, 0.000f,-0.177f,0.000f, 0.000f, 0.050f,0.455f,0.000f, 0.000f, 0.000f,1.000f]}
execute as @s[tag=west] positioned ~ ~ ~1 if entity @e[type=interaction,tag=curtain2,distance=..0.5,tag=west] if entity @e[tag=top,distance=..0.5,tag=curtain2,type=block_display] positioned ~0.35 ~ ~ run summon minecraft:block_display ~ ~0.27 ~ {id:"block_display",Passengers:[],Tags:["furniture","curtain2","wood","top","topframe","new","right","west"],block_state:{Name:"minecraft:stripped_oak_wood"},interpolation_duration:0,start_interpolation:0,transformation:[0.215f, 0.000f, 0.000f,-0.508f,0.000f, 0.215f, 0.000f,-0.177f,0.000f, 0.000f, 0.050f,-0.505f,0.000f, 0.000f, 0.000f,1.000f]}

execute as @s[tag=south] positioned ~-1 ~ ~ if entity @e[type=interaction,tag=curtain2,distance=..0.5,tag=south] if entity @e[tag=top,distance=..0.5,tag=curtain2,type=block_display] positioned ~ ~ ~-0.35 run summon minecraft:block_display ~ ~0.27 ~ {id:"block_display",Passengers:[],Tags:["furniture","curtain2","wood","top","topframe","new","left","south"],block_state:{Name:"minecraft:stripped_oak_wood"},interpolation_duration:0,start_interpolation:0,transformation:[0.050f, 0.000f, 0.000f,0.455f,0.000f, 0.215f, 0.000f,-0.177f,0.000f, 0.000f, 0.215f,0.293f,0.000f, 0.000f, 0.000f,1.000f]}
execute as @s[tag=south] positioned ~1 ~ ~ if entity @e[type=interaction,tag=curtain2,distance=..0.5,tag=south] if entity @e[tag=top,distance=..0.5,tag=curtain2,type=block_display] positioned ~ ~ ~-0.35 run summon minecraft:block_display ~ ~0.27 ~ {id:"block_display",Passengers:[],Tags:["furniture","curtain2","wood","top","topframe","new","right","south"],block_state:{Name:"minecraft:stripped_oak_wood"},interpolation_duration:0,start_interpolation:0,transformation:[0.050f, 0.000f, 0.000f,-0.505f,0.000f, 0.215f, 0.000f,-0.177f,0.000f, 0.000f, 0.215f,0.293f,0.000f, 0.000f, 0.000f,1.000f]}

execute as @s[tag=north] positioned ~-1 ~ ~ if entity @e[type=interaction,tag=curtain2,distance=..0.5,tag=north] if entity @e[tag=top,distance=..0.5,tag=curtain2,type=block_display] positioned ~ ~ ~0.35 run summon minecraft:block_display ~ ~0.27 ~ {id:"block_display",Passengers:[],Tags:["furniture","curtain2","wood","top","topframe","new","right","north"],block_state:{Name:"minecraft:stripped_oak_wood"},interpolation_duration:0,start_interpolation:0,transformation:[0.050f, 0.000f, 0.000f,0.455f,0.000f, 0.215f, 0.000f,-0.177f,0.000f, 0.000f, 0.215f,-0.508f,0.000f, 0.000f, 0.000f,1.000f]}
execute as @s[tag=north] positioned ~1 ~ ~ if entity @e[type=interaction,tag=curtain2,distance=..0.5,tag=north] if entity @e[tag=top,distance=..0.5,tag=curtain2,type=block_display] positioned ~ ~ ~0.35 run summon minecraft:block_display ~ ~0.27 ~ {id:"block_display",Passengers:[],Tags:["furniture","curtain2","wood","top","topframe","new","left","north"],block_state:{Name:"minecraft:stripped_oak_wood"},interpolation_duration:0,start_interpolation:0,transformation:[0.050f, 0.000f, 0.000f,-0.505f,0.000f, 0.215f, 0.000f,-0.177f,0.000f, 0.000f, 0.215f,-0.508f,0.000f, 0.000f, 0.000f,1.000f]}

execute as @s[tag=east] positioned ~ ~ ~1 if entity @e[type=interaction,tag=curtain2,distance=..0.5,tag=east] if entity @e[tag=top,distance=..0.5,tag=curtain2,type=block_display] positioned ~-0.35 ~ ~ run summon minecraft:block_display ~ ~0.27 ~ {id:"block_display",Passengers:[],Tags:["furniture","curtain2","wood","top","topframe","new","left","east"],block_state:{Name:"minecraft:stripped_oak_wood"},interpolation_duration:0,start_interpolation:0,transformation:[0.215f, 0.000f, 0.000f,0.293f,0.000f, 0.215f, 0.000f,-0.177f,0.000f, 0.000f, 0.050f,-0.505f,0.000f, 0.000f, 0.000f,1.000f]}
execute as @s[tag=east] positioned ~ ~ ~-1 if entity @e[type=interaction,tag=curtain2,distance=..0.5,tag=east] if entity @e[tag=top,distance=..0.5,tag=curtain2,type=block_display] positioned ~-0.35 ~ ~ run summon minecraft:block_display ~ ~0.27 ~ {id:"block_display",Passengers:[],Tags:["furniture","curtain2","wood","top","topframe","new","right","east"],block_state:{Name:"minecraft:stripped_oak_wood"},interpolation_duration:0,start_interpolation:0,transformation:[0.215f, 0.000f, 0.000f,0.293f,0.000f, 0.215f, 0.000f,-0.177f,0.000f, 0.000f, 0.050f,0.455f,0.000f, 0.000f, 0.000f,1.000f]}

execute as @e[tag=new,type=block_display,tag=curtain2,tag=wood] at @s run data modify entity @s block_state set from entity @e[tag=!new,tag=curtain2,sort=nearest,limit=1,tag=wood,tag=!new] block_state
execute as @e[tag=new,type=block_display,tag=curtain2,tag=wool] at @s run data modify entity @s block_state set from entity @e[tag=!new,tag=curtain2,sort=nearest,limit=1,tag=!closed,nbt=!{block_state:{Name:"minecraft:air"}},distance=..2] block_state
execute as @e[tag=new,type=block_display,tag=curtain2] run tag @s remove new